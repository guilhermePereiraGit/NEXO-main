<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard NEXO – Modelo AA0385123</title>

    <!-- Fontes e Ícones -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Link para o CSS externo (garanta que o nome do arquivo seja igual) -->
    <link rel="stylesheet" href="dash-corporate.css">

    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
<div class="container">
    <!-- Barra Lateral -->
    <div class="nav-bar">
        <div class="sair">
            <i class="bi bi-box-arrow-left" onclick="window.location.href='index.html'"></i>
        </div>
    </div>

    <div class="main">
        <!-- Topo -->
        <div class="topo">
            <div class="topo-textos">
                <h2>Dashboard NEXO – Modelo AA0385123</h2>
                <span class="subtitulo-topo">Visão consolidada dos últimos 30 dias · foco em decisões do Gestor</span>
            </div>
        </div>

        <!-- Conteúdo -->
        <div class="baixo">
            <div class="conteudo">

                <!-- Linha de contexto -->
                <div class="periodo-indicador">
                    Últimos 30 dias · Modelo AA0385123 · Totens ativos monitorados
                </div>

                <!-- KPIs (Parte Superior) -->
                <section class="bloco-kpi">
                    <!-- KPI 1 -->
                    <div class="kpi-card">
                        <div>
                            <div class="kpi-user-info">[Nome do Gestor]</div>
                            <div class="kpi-user-date">[17 de Novembro, 2025]</div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-modelo-info">
                                <div class="modelo-nome">Modelo AA0385123</div>
                                <div class="modelo-totens">200</div>
                                <div class="modelo-extra">Representa 10% do parque total monitorado</div>
                            </div>
                        </div>
                    </div>

                    <!-- KPI 2 -->
                    <div class="kpi-card">
                        <div>
                            <div class="kpi-title">Equipamentos Críticos</div>
                            <div class="kpi-subtitle">% de totens com alertas "Muito Perigoso"</div>
                        </div>
                        <div class="kpi-content">
                            <div id="kpi-radial-chart" class="kpi-radial-chart"></div>
                            <div class="kpi-extra kpi-extra-central">
                                12% (24 totens) do modelo em estado crítico
                            </div>
                        </div>
                    </div>

                    <!-- KPI 3 -->
                    <div class="kpi-card">
                        <div>
                            <div class="kpi-title">Total de Alertas (30 dias)</div>
                            <div class="kpi-subtitle">Soma de todos os alertas do modelo</div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-value">120</div>
                            <div class="kpi-variacao positivo">
                                <span class="seta">▼</span>
                                <span>15% vs. período anterior</span>
                            </div>
                            <div class="kpi-extra">Redução de esforço operacional</div>
                        </div>
                    </div>

                    <!-- KPI 4 -->
                    <div class="kpi-card">
                        <div>
                            <div class="kpi-title">Crítica por Componente</div>
                            <div class="kpi-subtitle">Distribuição de alertas "Muito Perigoso"</div>
                        </div>
                        <div class="kpi-content">
                            <ol class="kpi-top-list">
                                <li><div class="comp-name"><span class="dot dot-disco"></span> Disco</div><div class="comp-perc">58%</div></li>
                                <li><div class="comp-name"><span class="dot dot-cpu"></span> CPU</div><div class="comp-perc">22%</div></li>
                                <li><div class="comp-name"><span class="dot dot-processos"></span> Processos</div><div class="comp-perc">10%</div></li>
                                <li><div class="comp-name"><span class="dot dot-ram"></span> RAM</div><div class="comp-perc">10%</div></li>
                            </ol>
                        </div>
                    </div>
                </section>

                <!-- GRÁFICOS LADO A LADO (Ocupam o resto da tela 50/50) -->
                <section class="bloco-principal">
                    
                    <!-- Gráfico 1: Barras (Alertas por Componente) -->
                    <div class="card-chart">
                        <div class="chart-title">Alertas por Componente (30 dias)</div>
                        <div class="chart-subtitle">
                            Foco prioritário de atuação técnica.
                        </div>
                        <div id="chart-alertas-componentes"></div>
                    </div>

                    <!-- Gráfico 2: Colunas (Sazonalidade) -->
                    <div class="card-chart">
                        <div class="chart-title">Alertas por Mês e Componente (12 meses)</div>
                        <div class="chart-subtitle">
                            Histórico de comportamento do modelo.
                        </div>
                        <div id="chart-alertas-sazonalidade"></div>
                    </div>
                    
                </section>

            </div>
        </div>
    </div>
</div>

<!-- Scripts ApexCharts -->
<script>
    /* KPI 2 - Radial (Bolha) */
    var optionsKpiRadial = {
        series: [12],
        chart: { height: '100%', type: 'radialBar', sparkline: { enabled: true } },
        plotOptions: {
            radialBar: {
                startAngle: -90, endAngle: 90,
                track: { background: "#e7e7e7", strokeWidth: '97%', margin: 5 },
                dataLabels: {
                    name: { show: false },
                    value: { offsetY: -2, fontSize: '20px', color: 'var(--vermelho-muito-perigoso)', fontWeight: 700 }
                }
            }
        },
        fill: { colors: ['#F44336'] }, labels: ['Críticos']
    };
    new ApexCharts(document.querySelector("#kpi-radial-chart"), optionsKpiRadial).render();

    /* Gráfico 1 - Barras Horizontais (Componentes) */
    var optionsAlertasComponentes = {
        series: [{ name: 'Alertas', data: [25, 10, 40, 15] }],
        chart: { type: 'bar', height: '100%', toolbar: { show: false } },
        plotOptions: { bar: { horizontal: true, borderRadius: 4, barHeight: '65%', distributed: true, dataLabels: { position: 'center' } } },
        colors: ['var(--cor-cpu)', 'var(--cor-ram)', 'var(--cor-disco)', 'var(--cor-processos)'],
        dataLabels: { enabled: true, formatter: (val) => val, style: { fontSize: '11px', fontWeight: 600, colors: ['#FFFFFF'] } },
        xaxis: { categories: ['CPU', 'RAM', 'Disco', 'Processos'], labels: { show: true, style: { fontSize: '11px' } } },
        grid: { borderColor: '#e9e9ff', strokeDashArray: 3, xaxis: { lines: { show: true } }, yaxis: { lines: { show: false } } },
        legend: { show: false }, tooltip: { y: { formatter: (val) => val + ' alertas' } }
    };
    new ApexCharts(document.querySelector("#chart-alertas-componentes"), optionsAlertasComponentes).render();

    /* Gráfico 2 - Colunas Empilhadas (Sazonalidade) */
    var optionsAlertasSazonalidade = {
        series: [
            { name: "CPU", data: [5, 8, 6, 4, 7, 9, 6, 5, 4, 3, 4, 5] },
            { name: "RAM", data: [3, 4, 5, 3, 4, 6, 5, 4, 3, 2, 3, 4] },
            { name: "Disco", data: [7, 6, 8, 9, 10, 12, 11, 10, 8, 7, 6, 5] },
            { name: "Processos", data: [2, 3, 2, 1, 4, 3, 5, 4, 3, 2, 2, 3] }
        ],
        chart: { type: "bar", height: '100%', stacked: true, toolbar: { show: false } },
        plotOptions: { bar: { horizontal: false, columnWidth: "60%", borderRadius: 4 } },
        dataLabels: { enabled: false },
        xaxis: {
            categories: ["Nov", "Dez", "Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out"],
            labels: { style: { fontSize: '10px' } }
        },
        grid: { borderColor: "#e9e9ff", strokeDashArray: 3 },
        colors: ['var(--cor-cpu)', 'var(--cor-ram)', 'var(--cor-disco)', 'var(--cor-processos)'],
        legend: { position: "top", horizontalAlign: "center", fontSize: '11px' },
        tooltip: { y: { formatter: (val) => val + " alertas" } }
    };
    new ApexCharts(document.querySelector("#chart-alertas-sazonalidade"), optionsAlertasSazonalidade).render();
</script>

</body>
</html>