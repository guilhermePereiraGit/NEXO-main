/* --- CSS GERAL --- */
* {
    padding: 0;
    margin: 0;
    font-family: 'Poppins', sans-serif;
    box-sizing: border-box;
}

:root {
    /* Cores do Site */
    --principal: #451c8b;
    --contraste: #c8c1ff;
    --fundo: #eeecff;

    /* Cores da Dashboard */
    --roxo-nexo: #8c52ff;
    --roxo-claro: #f3efff;
    --cinza-texto: #333333;
    --cinza-claro: #666666;

    /* Paleta de Alertas */
    --amarelo-atencao: #FFC107;
    --laranja-perigoso: #FFA500;
    --vermelho-muito-perigoso: #F44336;
    --verde-sucesso: #4CAF50;
    --texto-branco: #ffffff;

    /* Cores dos Componentes */
    --cor-cpu: #8C52FF;       /* Roxo */
    --cor-ram: #00C49F;       /* Verde Água */
    --cor-disco: #008FFB;     /* Azul */
    --cor-processos: #3F51B1; /* Índigo */
}

html, body {
    height: 100%;
    width: 100%;
    overflow: hidden; /* Garante Zero Scroll */
}

.container {
    display: flex;
    flex-direction: row;
    height: 100vh;
    width: 100vw;
}

/* --- BARRA LATERAL --- */
.nav-bar {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    width: 90px;
    height: 100%;
    background-color: var(--principal);
    flex-shrink: 0;
}

.sair {
    margin-top: 30px;
    cursor: pointer;
}

.bi {
    font-size: 36px;
    color: white;
    transition: 0.3s;
}

.bi:hover {
    transform: scale(1.05);
}

/* --- ÁREA PRINCIPAL --- */
.main {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    height: 100%;
}

/* Topo */
.topo {
    display: flex;
    align-items: center;
    width: 100%;
    height: 60px; /* Altura fixa pequena */
    background-color: var(--contraste);
    color: var(--principal);
    padding: 0 30px;
    flex-shrink: 0;
    border-bottom: 1px solid rgba(255,255,255,0.6);
}

.topo-textos h2 {
    font-weight: 600;
    font-size: 20px;
}

.subtitulo-topo {
    display: block;
    font-size: 12px;
    color: #4b3c7d;
    margin-top: 2px;
}

/* Área de Fundo */
.baixo {
    display: flex;
    justify-content: center;
    align-items: stretch;
    background-color: var(--fundo);
    flex-grow: 1;
    padding: 12px;
    overflow: hidden;
}

/* Container Flexível da Dash */
.conteudo {
    height: 100%;
    width: 100%;
    max-width: 1600px;
    display: flex;
    flex-direction: column;
    gap: 10px; 
}

/* Indicador de Período */
.periodo-indicador {
    background-color: #ffffff;
    color: var(--roxo-nexo);
    font-weight: 600;
    font-size: 12px;
    padding: 6px 15px;
    border-radius: 10px;
    text-align: left;
    box-shadow: 0 2px 6px rgba(57, 18, 112, 0.04);
    border: 1px solid #e3dbff;
    flex-shrink: 0;
}

/* --- LAYOUT DA GRID --- */

/* KPIs (Linha Superior) */
.bloco-kpi {
    flex: 0 0 auto; /* Altura automática */
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 10px;
    min-height: 140px; /* Garante visibilidade mínima */
}

/* Gráficos (Linha Inferior - LADO A LADO) */
.bloco-principal {
    flex: 1; /* Ocupa todo o resto da altura disponível */
    display: grid;
    grid-template-columns: 1fr 1fr; /* Divisão exata 50% / 50% */
    gap: 10px;
    min-height: 0; /* Evita overflow */
}

/* Cards */
.kpi-card,
.card-chart {
    background: #ffffff;
    border-radius: 14px;
    padding: 14px 16px;
    box-shadow: 0 4px 12px rgba(57, 18, 112, 0.05);
    border: 1px solid #e8e2ff;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    overflow: hidden;
    height: 100%;
}

/* --- ESTILOS DOS KPIS --- */
.kpi-content {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    flex-grow: 1;
}

.kpi-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--roxo-nexo);
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.kpi-subtitle {
    font-size: 10px;
    color: var(--cinza-claro);
    margin-bottom: 4px;
    line-height: 1.2;
}

.kpi-value {
    font-size: 28px;
    font-weight: 700;
    color: #231c3f;
    line-height: 1;
}

.kpi-extra {
    font-size: 10px;
    color: var(--cinza-claro);
    margin-top: 4px;
}

.kpi-extra-central { text-align: center; }

.kpi-variacao {
    font-size: 11px;
    font-weight: 600;
    margin-top: 4px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}
.kpi-variacao.positivo { color: var(--verde-sucesso); }
.kpi-variacao.negativo { color: var(--vermelho-muito-perigoso); }
.kpi-variacao .seta { font-size: 12px; }

/* Detalhes KPIs */
.kpi-user-info { font-size: 11px; font-weight: 600; color: var(--cinza-texto); }
.kpi-user-date { font-size: 10px; color: var(--cinza-claro); margin-bottom: 4px; }
.kpi-modelo-info .modelo-nome { font-size: 14px; font-weight: 600; color: #2b2140; }
.kpi-modelo-info .modelo-totens { font-size: 26px; font-weight: 700; color: #2b2140; margin-top: 2px; }
.kpi-modelo-info .modelo-extra { font-size: 10px; color: var(--cinza-claro); margin-top: 2px; }

.kpi-radial-chart {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 60px;
    margin: -5px 0;
}

/* Lista Componentes */
.kpi-top-list {
    list-style: none;
    padding-left: 0;
    margin-top: 4px;
    width: 100%;
}
.kpi-top-list li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 11px;
    font-weight: 600;
    color: #333;
    padding: 2px 0;
}
.kpi-top-list li .comp-name { display: flex; align-items: center; gap: 6px; }
.kpi-top-list li .dot { width: 8px; height: 8px; border-radius: 50%; }
.kpi-top-list li .dot-cpu { background-color: var(--cor-cpu); }
.kpi-top-list li .dot-ram { background-color: var(--cor-ram); }
.kpi-top-list li .dot-disco { background-color: var(--cor-disco); }
.kpi-top-list li .dot-processos { background-color: var(--cor-processos); }
.kpi-top-list li .comp-perc { font-weight: 700; color: var(--cinza-claro); }

/* --- GRÁFICOS --- */
.card-chart .chart-title {
    font-size: 14px;
    font-weight: 700;
    color: #2b2140;
}

.card-chart .chart-subtitle {
    font-size: 10px;
    color: var(--cinza-claro);
    margin-top: 2px;
    margin-bottom: 4px;
}

/* Containers dos Gráficos */
#chart-alertas-componentes,
#chart-alertas-sazonalidade {
    flex-grow: 1;
    min-height: 0;
    width: 100%;
    overflow: hidden;
}

/* Responsividade */
@media (max-width: 1024px) {
    .bloco-kpi { grid-template-columns: repeat(2, 1fr); }
    .bloco-principal { grid-template-columns: 1fr; } /* Vira coluna única em tablets */
    .conteudo { overflow-y: auto; }
    html, body { overflow: auto; }
}