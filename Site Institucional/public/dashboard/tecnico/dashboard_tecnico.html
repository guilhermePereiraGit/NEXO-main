<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Totens - Técnico</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../geral.css">
    <link rel="stylesheet" href="../gestor/dashboard_gestor.css">
    <link rel="stylesheet" href="dashboard_tecnico.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body onload="identificarRegiao(),gerarGraficoBarra()">
    <div class="all">
        <header>
            <div class="header-all">
                <div class="user">
                    <img src="../../assets/imgs/user.png">
                    <div class="text">
                        <label id="nome">Guilherme Silva</label>
                        <label id="cargo">Técnico em Operação</label>
                    </div>
                </div>
                <div class="navegation">
                    <a href="" id="voltar">Voltar</a>
                </div>
                <div class="suporte">
                    <a href="#"><img src="../../assets/imgs/icon-jira.png"></a>
                    <a href="#"><img src="../../assets/imgs/icon-slack.png"></a>
                </div>
            </div>
        </header>
        <div class="content">
            <div class="first">
                <div class="first-region">
                    <h1>Região: <span id="regiao_escolhida">São Paulo</span></h1>
                    <!-- <div class="zona" id="zona">
                        <label>Escolha a Zona:</label>
                        <select name="regiao_atuacao" id="regiao_atuacao" onchange="carregarRegioes()">
                            <option value="x">Escolha uma Opção</option>
                            <option value="AC">Zona Norte</option>
                            <option value="AL">Zona Sul</option>
                            <option value="AP">Zona Leste</option>
                            <option value="AM">Zona Oeste</option>
                            <option value="BA">Centro</option>
                        </select>
                    </div> -->
                </div>
                <div class="first-kpi">
                    <div class="kpi">
                        <h1>Disponibilidade da Região</h1>
                        <h1>78% <span>por Semana</span></h1>
                    </div>
                    <div class="kpi">
                        <h1>Total de Totens da Região</h1>
                        <h1>20 <span>10% do Total</span></h1>
                    </div>
                </div>
            </div>
            <div class="second-tecnico">
                <h1>Totens da Região com Alerta</h1>
                <div class="second-totens">
                    <div class="totem" onclick="navegarTotem('AA05000')">
                        <p>Totem</p>
                        <h1>AA05000</h1>
                        <div class="color" style="background-color: #FF0000;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05001')">
                        <p>Totem</p>
                        <h1>AA05001</h1>
                        <div class="color" style="background-color: #FF0000;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05002')">
                        <p>Totem</p>
                        <h1>AA05002</h1>
                        <div class="color" style="background-color: #FF0000;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05003')">
                        <p>Totem</p>
                        <h1>AA05003</h1>
                        <div class="color" style="background-color: #FF0000;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05004')">
                        <p>Totem</p>
                        <h1>AA05004</h1>
                        <div class="color" style="background-color: #FF0000;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05005')">
                        <p>Totem</p>
                        <h1>AA05005</h1>
                        <div class="color" style="background-color: #FF8C00;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05006')">
                        <p>Totem</p>
                        <h1>AA05006</h1>
                        <div class="color" style="background-color: #FF8C00;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05007')">
                        <p>Totem</p>
                        <h1>AA05007</h1>
                        <div class="color" style="background-color: #FF8C00;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05008')">
                        <p>Totem</p>
                        <h1>AA05008</h1>
                        <div class="color" style="background-color: #FF8C00;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05009')">
                        <p>Totem</p>
                        <h1>AA05009</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05010')">
                        <p>Totem</p>
                        <h1>AA05010</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05011')">
                        <p>Totem</p>
                        <h1>AA05011</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05008')">
                        <p>Totem</p>
                        <h1>AA05012</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05009')">
                        <p>Totem</p>
                        <h1>AA05013</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05010')">
                        <p>Totem</p>
                        <h1>AA05014</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05011')">
                        <p>Totem</p>
                        <h1>AA05015</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05008')">
                        <p>Totem</p>
                        <h1>AA05016</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05009')">
                        <p>Totem</p>
                        <h1>AA05017</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05010')">
                        <p>Totem</p>
                        <h1>AA05018</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                    <div class="totem" onclick="navegarTotem('AA05011')">
                        <p>Totem</p>
                        <h1>AA05019</h1>
                        <div class="color" style="background-color: #FFD700;"></div>
                    </div>
                </div>
            </div>
            <div class="third-tecnico">
                <div class="part-one">
                    <h1>Distribuição por Criticidade</h1>
                    <div class="legendas">
                        <div class="legenda">
                            <div class="color" style="background-color: #FFD700;"></div>
                            <p>Alerta Atenção</p>
                        </div>
                        <div class="legenda">
                            <div class="color" style="background-color: #FF8C00;"></div>
                            <p>Alerta Perigoso</p>
                        </div>
                        <div class="legenda">
                            <div class="color" style="background-color: #FF0000;"></div>
                            <p>Alerta Muito Perigoso</p>
                        </div>
                    </div>
                </div>
                <div class="part-two">
                    <div class="barra">
                        <canvas id="grafico-bar" class="chart-container"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    function navegarTotem(idTotem){
        sessionStorage.setItem("TOTEM_SELECIONADO",idTotem);
        window.location.href = "totem.html";
    }

    function identificarRegiao() {
        //Função para pegar a região do técnico
    }

    function gerarGraficoBarra() {
        legenda = ["Atenção", "Perigoso", "Muito Perigoso"]
        infos = [10, 20, 10]
        const cty = document.getElementById('grafico-bar');
        new Chart(cty, {
            type: 'bar',
            data: {
                labels: legenda,
                datasets: [{
                    data: infos,
                    borderWidth: 1,
                    backgroundColor: ["#FFD700","#FF8C00","#FF0000"],
                    borderRadius: 10
                }]
            },
            options: {
                indexAxis:'y',
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    },

                }
            },
        })
    }
</script>
</html>